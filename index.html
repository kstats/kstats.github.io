<!DOCTYPE html>
<!-- saved from url=(0036)https://jsfiddle.net/cwfsdbex/5/show -->
<html><script>(function installFakeGeolocationCode() {
        var timerId = null;
        if (!navigator.geolocation) {
            return;
        }
        navigator.geolocation.getCurrentPosition_ = navigator.geolocation.getCurrentPosition;
        navigator.geolocation.watchPosition_ = navigator.geolocation.watchPosition;
        navigator.geolocation.clearWatch_ = navigator.geolocation.clearWatch;

        navigator.geolocation.clearWatch = function (id) {
            window.clearInterval(id);
        };

        function sendBackResponse (successCb, errorCb, options, jsonedResponse) {
            var response = JSON.parse(jsonedResponse);
            if (response.isEnabled) {
                successCb({ 'coords': { 'latitude': response.lat, 'longitude': response.lng,
                    'accuracy': response.accuracy }, 'timestamp': new Date().getTime() });
            } else {
                navigator.geolocation.getCurrentPosition_(successCb, errorCb, options);
            }
        }

        function createGetFakePosition(successCb, errorCb, options) {
            return function () {
                var positionElement = document.getElementById('fake_position_meta');
                if (!positionElement) {
                    var interval = setInterval(function() {
                        positionElement = document.getElementById('fake_position_meta');
                        if (positionElement) {
                            clearInterval(interval);
                            sendBackResponse(successCb, errorCb, options, positionElement.getAttribute('content'));
                        }
                    }, 200 /* ms */);
                } else {
                    // we already have the div, no need for intervals etc.
                    sendBackResponse(successCb, errorCb, options, positionElement.getAttribute('content'));
                }
            };
        };

        navigator.geolocation.getCurrentPosition = function (cb1, cb2, options) {
            var getFakePosition = createGetFakePosition(cb1, cb2, options);
            getFakePosition();
        };

        navigator.geolocation.watchPosition = function (cb1, cb2, options) {
            var getFakePosition = createGetFakePosition(cb1, cb2, options);
            getFakePosition();
            if (timerId) {
                window.clearInterval(timerId);
            }
            timerId = window.setInterval(getFakePosition, 5 * 1000);
            return timerId;
        };
    })();</script><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    
    <meta http-equiv="edit-Type" edit="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>JSFiddle</title>

      <meta name="robots" content="index, follow">
      <meta name="googlebot" content="index, follow">

      <script type="text/javascript">
        var height
        var force_height = null
        var slug = "cwfsdbex"
        var show_src = "//fiddle.jshell.net/cwfsdbex/5/show/light/"
        var resize_element_counter = 0
        var shell_edit_url = "/cwfsdbex/5/light/"
      </script>

      <script src="./index_files/embed.js"></script>
      <link rel="stylesheet" media="screen" href="./index_files/embed-light.css">
      <link rel="icon" href="https://jsfiddle.net/img/favicon.png">
  </head>
  <body id="sylvester-standalone" data-new-gr-c-s-check-loaded="14.1026.0" data-gr-ext-installed="" data-gr-ext-disabled="forever">
    <a class="toEditor" href="https://jsfiddle.net/cwfsdbex/5/" target="_blank">
      <svg width="34" height="40">
      <use xlink:href="//jsfiddle.net/sprite.svg#logo"></use>
    </svg>Edit in JSFiddle
    </a>

    <div id="result">
      
    <iframe src="./index_files/saved_resource.html" frameborder="0" sandbox="allow-forms allow-scripts allow-same-origin allow-top-navigation-by-user-activation allow-downloads allow-modals allow-popups" allow="midi; geolocation; microphone; camera; display-capture; encrypted-media;"></iframe></div>

    
  

<meta id="fake_position_meta" name="fake_geolocation_chrome_extension" content="{}"><span id="sbmarwbthv5"></span><script>mendeleyWebImporter = {
  downloadPdfs(t,e) { return this._call('downloadPdfs', [t,e]); },
  open() { return this._call('open', []); },
  setLoginToken(t) { return this._call('setLoginToken', [t]); },
  _call(methodName, methodArgs) {
    const id = Math.random();
    window.postMessage({ id, token: '0.0477969000372207', methodName, methodArgs }, 'https://jsfiddle.net');
    return new Promise(resolve => {
      const listener = window.addEventListener('message', event => {
        const data = event.data;
        if (typeof data !== 'object' || !('result' in data) || data.id !== id) return;
        window.removeEventListener('message', listener);
        resolve(data.result);
      });
    });
  }
};</script><div class="crt-wrapper"></div><div class="aadvantage-wrapper"></div></body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration><div class="aadvantage-caa-wrapper"></div></html>